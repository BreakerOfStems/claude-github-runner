# Claude GitHub Runner Configuration
# Copy to /etc/claude-github-runner/config.yml

# Repositories to monitor (required)
repos:
  - "owner/repo1"
  - "owner/repo2"

# Label configuration
labels:
  ready: "ready"              # Issues with this label are picked up
  in_progress: "in-progress"  # Added when work starts
  blocked:                    # Issues with these labels are skipped
    - "blocked"
    - "needs-info"
  needs_human: "needs-human"  # Added when human intervention needed
  done: "done"                # Optionally added on completion

# Branch settings
branching:
  base_branch: "main"         # Default branch to base work on
  branch_prefix: "claude"     # Prefix for created branches

# Polling settings
polling:
  interval_seconds: 300       # How often to check (used by systemd timer)
  max_concurrency: 1          # Max concurrent runs (1-3)

# Timeout settings
timeouts:
  run_timeout_minutes: 60     # Max time for a single run
  stale_run_minutes: 180      # Mark runs stale after this time

# Path settings
paths:
  workspace_root: "/home/claude/workspace/_runs"
  db_path: "/home/claude/workspace/runner.sqlite"

# Claude Code settings
claude:
  command: "claude"           # Path to claude CLI
  non_interactive_args:
    - "--dangerously-skip-permissions"

# Priority settings
priorities:
  mention_first: true         # Process mentions before ready issues
  oldest_first: true          # Process oldest items first

# Cleanup settings
cleanup:
  on_success: "delete"        # delete | keep | archive
  on_failure: "keep"          # delete | keep | archive
  keep_hours: 24              # How long to keep failed workspaces
